# server/Dockerfile.ee (Enterprise)
FROM golang:1.24-alpine AS builder

WORKDIR /app
COPY go.mod go.sum ./
ENV GOPROXY=https://goproxy.cn,direct
RUN go mod download

COPY . .
# ğŸ”¥ ç¼–è¯‘ä¼ä¸šç‰ˆå…¥å£ (server-ee)
RUN go build -o server-ee cmd/server-ee/main.go

FROM alpine:latest
WORKDIR /app
RUN apk --no-cache add ca-certificates tzdata
COPY --from=builder /app/server-ee .
EXPOSE 8080
# å¯åŠ¨ä¼ä¸šç‰ˆäºŒè¿›åˆ¶
CMD ["./server-ee"]