# runtime/Dockerfile.ee (Enterprise)
# åŸºäºå¼€æºç‰ˆé•œåƒæ„å»º (å‡è®¾å¼€æºç‰ˆ tag ä¸º chimera-runtime:core)
# å¦‚æœæ˜¯åœ¨ CI/CD ä¸­ï¼Œå¯ä»¥ç›´æ¥åŸºäº python:3.10-slim é‡æ–°æ„å»ºï¼Œè¿™é‡Œä¸ºäº†æ¼”ç¤ºåˆ†å±‚
FROM python:3.10-slim

WORKDIR /app
# ... (é‡å¤å®‰è£…ä¾èµ–æ­¥éª¤ï¼Œæˆ–è€…ç›´æ¥ COPY ä¹‹å‰çš„) ...
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# 1. å…ˆå¤åˆ¶ Core
COPY . .

# 2. ğŸ”¥ æ˜¾å¼å¤åˆ¶ Enterprise ç›®å½• (è¦†ç›– .dockerignore çš„è§„åˆ™)
# æ³¨æ„ï¼šDocker build context éœ€è¦åŒ…å« enterprise ç›®å½•
COPY enterprise ./enterprise

ENV PYTHONPATH=/app
EXPOSE 50051
CMD ["python", "main.py"]